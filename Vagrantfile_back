# -*- mode: ruby -*-
# vi: set ft=ruby :

Vagrant.configure("2") do |config|
  config.vm.box = "centos/8"

  # Define each VM
  ["ansible_tower", "deploy_env1", "deploy_env2"].each_with_index do |name, index|
    config.vm.define name do |machine|
      machine.vm.hostname = "#{name}"
      machine.vm.network "private_network", ip: "192.168.56.#{index+10}"
      machine.vm.network "public_network"

      # Adding a shell script provisioner to run updateOS.sh as root
      machine.vm.provision "shell", path: "scriptgit/updateCentos.sh", privileged: true
    end
  end
end